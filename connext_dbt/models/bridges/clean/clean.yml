version: 2

models:
  
  - name: cln_synapse_txs
    description: >
      Cleans and transforms data from the `stg_synapse_txs` table by renaming columns and converting data types where necessary.
      This model prepares the data for further analysis by ensuring all necessary fields are correctly formatted and ready for consumption.

      **Sample Data:**
        - bridge: "synapse"
        - id: "00ae60b90d430261981e76e9034c2ef29a2ce22dc697d825219cee68d0427b28"
        - from_date: "2023-08-09 14:40:07.000000 UTC"
        - from_txn_hash: "0x6df0b8fe690d7f9fd110b6deb1a613be5d2b3100f596cc41c116a2760aad9a07"
        - chain_in: "137"
        - from_chain_name: "Polygon Mainnet"
        - from_user_address: "0xced732cA92CB4f040239C4e8c85F14ACBb5db000"
        - from_token_address: "0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"
        - from_token_symbol: "nUSD"
        - from_amount: "15.0"
        - from_amount_usd: "14.995272500000002"
        - to_date: "2023-08-09 14:43:50.000000 UTC"
        - to_txn_hash: "0x4aa0378c7b0efce325336a310cdcd882f6cedb0e031aa699b67acbba710b7ef5"
        - to_chain_id: "1088"
        - to_chain_name: "Metis Andromeda Mainnet"
        - to_user_address: "0xced732cA92CB4f040239C4e8c85F14ACBb5db000"
        - to_token_address: "0xEA32A96608495e54156Ae48931A7c20f0dcc1a21"
        - to_token_symbol: "nUSD"
        - to_amount: "13.5125"
        - to_amount_usd: "13.508241310416668"
        - gas_symbol: "MATIC"
        - gas_amount: null
        - gas_amount_usd: null
        - relay_symbol: "nUSD"
        - relay_amount: "1.4875000000000007"
        - relay_amount_usd: "1.4870311895833341"
    columns:
      - name: bridge
        description: "The bridge used for the transaction (e.g. synapse)"
        data_type: string
      - name: id
        description: "Unique transaction ID (e.g. 00ae60b90d430261981e76e9034c2ef29a2ce22dc697d825219cee68d0427b28)"
        data_type: string
        tests:
          - not_null
          - unique
      - name: from_date
        description: "Timestamp when the transaction was initiated (e.g. 2023-08-09 14:40:07.000000 UTC)"
        data_type: timestamp
      - name: from_txn_hash
        description: "Hash of the transaction on the source chain (e.g. 0x6df0b8fe690d7f9fd110b6deb1a613be5d2b3100f596cc41c116a2760aad9a07)"
        data_type: string
      - name: chain_in
        description: "Source chain ID where the transaction was initiated (e.g. 137)"
        data_type: integer
      - name: from_chain_name
        description: "Name of the source blockchain (e.g. Polygon Mainnet)"
        data_type: string
      - name: from_user_address
        description: "Address of the user initiating the transaction (e.g. 0xced732cA92CB4f040239C4e8c85F14ACBb5db000)"
        data_type: string
      - name: from_token_address
        description: "Token address on the source chain (e.g. 0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174)"
        data_type: string
      - name: from_token_symbol
        description: "Token symbol on the source chain (e.g. nUSD)"
        data_type: string
      - name: from_amount
        description: "Amount of tokens transferred from the source chain (e.g. 15.0)"
        data_type: float
      - name: from_amount_usd
        description: "USD equivalent of the token amount on the source chain (e.g. 14.995272500000002)"
        data_type: float
      - name: to_date
        description: "Timestamp when the transaction was completed on the destination chain (e.g. 2023-08-09 14:43:50.000000 UTC)"
        data_type: timestamp
      - name: to_txn_hash
        description: "Hash of the transaction on the destination chain (e.g. 0x4aa0378c7b0efce325336a310cdcd882f6cedb0e031aa699b67acbba710b7ef5)"
        data_type: string
      - name: to_chain_id
        description: "Destination chain ID where the transaction was completed (e.g. 1088)"
        data_type: integer
      - name: to_chain_name
        description: "Name of the destination blockchain (e.g. Metis Andromeda Mainnet)"
        data_type: string
      - name: to_user_address
        description: "Address of the user receiving the transaction (e.g. 0xced732cA92CB4f040239C4e8c85F14ACBb5db000)"
        data_type: string
      - name: to_token_address
        description: "Token address on the destination chain (e.g. 0xEA32A96608495e54156Ae48931A7c20f0dcc1a21)"
        data_type: string
      - name: to_token_symbol
        description: "Token symbol on the destination chain (e.g. nUSD)"
        data_type: string
      - name: to_amount
        description: "Amount of tokens received on the destination chain (e.g. 13.5125)"
        data_type: float
      - name: to_amount_usd
        description: "USD equivalent of the token amount on the destination chain (e.g. 13.508241310416668)"
        data_type: float
      - name: gas_symbol
        description: "Symbol of the gas token used (e.g. MATIC)"
        data_type: string
      - name: gas_amount
        description: "Amount of gas used for the transaction (e.g. null)"
        data_type: float
      - name: gas_amount_usd
        description: "USD equivalent of the gas used for the transaction (e.g. null)"
        data_type: float
      - name: relay_symbol
        description: "Symbol of the relay token used (e.g. nUSD)"
        data_type: string
      - name: relay_amount
        description: "Amount of relay tokens used (e.g. 1.4875000000000007)"
        data_type: float
      - name: relay_amount_usd
        description: "USD equivalent of the relay token amount (e.g. 1.4870311895833341)"
        data_type: float